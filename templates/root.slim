#root-content

  #audios

  #audio-template.hidden
    .audio-template-content.box
      button.remove X
      br
      button.play play
      button.stop.hidden stop
    
  button#add-audio onclick='Events.add_audio()' add audio

coffee:

  $ ->

    window.Dom = 
      audios: $("#audios")
      audio_template: $("#audio-template")

    window.Events =
      add_audio: (e) -> (->

        $template = $ Dom.audio_template[0].innerHTML
        Dom.audios.append $template
        $play_btn = $template.find(".play")
        $stop_btn = $template.find(".stop")

        id = (@last_id += 1)

        $play_btn.on "click", =>
          @create_nodes(id)
          $play_btn.addClass("hidden")
          $stop_btn.removeClass("hidden")

        $template.find(".stop").on "click", =>
          @stop_nodes(id)
          $play_btn.removeClass("hidden")
          $stop_btn.addClass("hidden")

        $template.find(".remove").on "click", =>
          @stop_nodes(id)
          $template.remove()

      ).apply Utils




